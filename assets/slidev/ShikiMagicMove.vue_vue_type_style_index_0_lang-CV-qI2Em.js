import{d as de,e as ve}from"../modules/unplugin-icons-CrrNop7o.js";import{d as q,z as X,h as N,r as U,L as ge,K as ye,p as F,aj as be,f as I,i as Y,o as D,n as me,aK as _e,O as we,e as ee,g as Se,t as Ae,T as j,b as te}from"../modules/vue-C-lq0ZUA.js";import{o as P,a as Ce,ak as ke,C as Me,al as $e,am as Ee}from"../index-D3PSjGtT.js";import{g as Le}from"../modules/file-saver-B7oFTzqn.js";import{u as Be}from"./context-CGks-EKo.js";var x={exports:{}},ne;function Te(){return ne||(ne=1,(function(n){var t=(function(){var e=String.fromCharCode,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function c(r,l){if(!o[r]){o[r]={};for(var u=0;u<r.length;u++)o[r][r.charAt(u)]=u}return o[r][l]}var h={compressToBase64:function(r){if(r==null)return"";var l=h._compress(r,6,function(u){return i.charAt(u)});switch(l.length%4){default:case 0:return l;case 1:return l+"===";case 2:return l+"==";case 3:return l+"="}},decompressFromBase64:function(r){return r==null?"":r==""?null:h._decompress(r.length,32,function(l){return c(i,r.charAt(l))})},compressToUTF16:function(r){return r==null?"":h._compress(r,15,function(l){return e(l+32)})+" "},decompressFromUTF16:function(r){return r==null?"":r==""?null:h._decompress(r.length,16384,function(l){return r.charCodeAt(l)-32})},compressToUint8Array:function(r){for(var l=h.compress(r),u=new Uint8Array(l.length*2),a=0,f=l.length;a<f;a++){var d=l.charCodeAt(a);u[a*2]=d>>>8,u[a*2+1]=d%256}return u},decompressFromUint8Array:function(r){if(r==null)return h.decompress(r);for(var l=new Array(r.length/2),u=0,a=l.length;u<a;u++)l[u]=r[u*2]*256+r[u*2+1];var f=[];return l.forEach(function(d){f.push(e(d))}),h.decompress(f.join(""))},compressToEncodedURIComponent:function(r){return r==null?"":h._compress(r,6,function(l){return s.charAt(l)})},decompressFromEncodedURIComponent:function(r){return r==null?"":r==""?null:(r=r.replace(/ /g,"+"),h._decompress(r.length,32,function(l){return c(s,r.charAt(l))}))},compress:function(r){return h._compress(r,16,function(l){return e(l)})},_compress:function(r,l,u){if(r==null)return"";var a,f,d={},p={},b="",C="",S="",_=2,w=3,y=2,A=[],g=0,v=0,m;for(m=0;m<r.length;m+=1)if(b=r.charAt(m),Object.prototype.hasOwnProperty.call(d,b)||(d[b]=w++,p[b]=!0),C=S+b,Object.prototype.hasOwnProperty.call(d,C))S=C;else{if(Object.prototype.hasOwnProperty.call(p,S)){if(S.charCodeAt(0)<256){for(a=0;a<y;a++)g=g<<1,v==l-1?(v=0,A.push(u(g)),g=0):v++;for(f=S.charCodeAt(0),a=0;a<8;a++)g=g<<1|f&1,v==l-1?(v=0,A.push(u(g)),g=0):v++,f=f>>1}else{for(f=1,a=0;a<y;a++)g=g<<1|f,v==l-1?(v=0,A.push(u(g)),g=0):v++,f=0;for(f=S.charCodeAt(0),a=0;a<16;a++)g=g<<1|f&1,v==l-1?(v=0,A.push(u(g)),g=0):v++,f=f>>1}_--,_==0&&(_=Math.pow(2,y),y++),delete p[S]}else for(f=d[S],a=0;a<y;a++)g=g<<1|f&1,v==l-1?(v=0,A.push(u(g)),g=0):v++,f=f>>1;_--,_==0&&(_=Math.pow(2,y),y++),d[C]=w++,S=String(b)}if(S!==""){if(Object.prototype.hasOwnProperty.call(p,S)){if(S.charCodeAt(0)<256){for(a=0;a<y;a++)g=g<<1,v==l-1?(v=0,A.push(u(g)),g=0):v++;for(f=S.charCodeAt(0),a=0;a<8;a++)g=g<<1|f&1,v==l-1?(v=0,A.push(u(g)),g=0):v++,f=f>>1}else{for(f=1,a=0;a<y;a++)g=g<<1|f,v==l-1?(v=0,A.push(u(g)),g=0):v++,f=0;for(f=S.charCodeAt(0),a=0;a<16;a++)g=g<<1|f&1,v==l-1?(v=0,A.push(u(g)),g=0):v++,f=f>>1}_--,_==0&&(_=Math.pow(2,y),y++),delete p[S]}else for(f=d[S],a=0;a<y;a++)g=g<<1|f&1,v==l-1?(v=0,A.push(u(g)),g=0):v++,f=f>>1;_--,_==0&&(_=Math.pow(2,y),y++)}for(f=2,a=0;a<y;a++)g=g<<1|f&1,v==l-1?(v=0,A.push(u(g)),g=0):v++,f=f>>1;for(;;)if(g=g<<1,v==l-1){A.push(u(g));break}else v++;return A.join("")},decompress:function(r){return r==null?"":r==""?null:h._decompress(r.length,32768,function(l){return r.charCodeAt(l)})},_decompress:function(r,l,u){var a=[],f=4,d=4,p=3,b="",C=[],S,_,w,y,A,g,v,m={val:u(0),position:l,index:1};for(S=0;S<3;S+=1)a[S]=S;for(w=0,A=Math.pow(2,2),g=1;g!=A;)y=m.val&m.position,m.position>>=1,m.position==0&&(m.position=l,m.val=u(m.index++)),w|=(y>0?1:0)*g,g<<=1;switch(w){case 0:for(w=0,A=Math.pow(2,8),g=1;g!=A;)y=m.val&m.position,m.position>>=1,m.position==0&&(m.position=l,m.val=u(m.index++)),w|=(y>0?1:0)*g,g<<=1;v=e(w);break;case 1:for(w=0,A=Math.pow(2,16),g=1;g!=A;)y=m.val&m.position,m.position>>=1,m.position==0&&(m.position=l,m.val=u(m.index++)),w|=(y>0?1:0)*g,g<<=1;v=e(w);break;case 2:return""}for(a[3]=v,_=v,C.push(v);;){if(m.index>r)return"";for(w=0,A=Math.pow(2,p),g=1;g!=A;)y=m.val&m.position,m.position>>=1,m.position==0&&(m.position=l,m.val=u(m.index++)),w|=(y>0?1:0)*g,g<<=1;switch(v=w){case 0:for(w=0,A=Math.pow(2,8),g=1;g!=A;)y=m.val&m.position,m.position>>=1,m.position==0&&(m.position=l,m.val=u(m.index++)),w|=(y>0?1:0)*g,g<<=1;a[d++]=e(w),v=d-1,f--;break;case 1:for(w=0,A=Math.pow(2,16),g=1;g!=A;)y=m.val&m.position,m.position>>=1,m.position==0&&(m.position=l,m.val=u(m.index++)),w|=(y>0?1:0)*g,g<<=1;a[d++]=e(w),v=d-1,f--;break;case 2:return C.join("")}if(f==0&&(f=Math.pow(2,p),p++),a[v])b=a[v];else if(v===d)b=_+_.charAt(0);else return null;C.push(b),a[d++]=_+b.charAt(0),f--,_=b,f==0&&(f=Math.pow(2,p),p++)}}};return h})();n!=null?n.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(x)),x.exports}var je=Te();const Oe=Le(je),Re=Object.freeze({diffTimeout:1,diffEditCost:4,matchThreshold:.5,matchDistance:1e3,patchDeleteThreshold:.5,patchMargin:4,matchMaxBits:32});function De(n){if(n?.__resolved)return n;const t={...Re,...n};return Object.defineProperty(t,"__resolved",{value:!0,enumerable:!1}),t}const L=-1,$=1,M=0;function k(n,t){return[n,t]}function R(n,t,e,i=!0,s){const o=De(e);typeof s>"u"&&(o.diffTimeout<=0?s=Number.MAX_VALUE:s=new Date().getTime()+o.diffTimeout*1e3);const c=s;if(n==null||t==null)throw new Error("Null input. (diff_main)");if(n===t)return n?[k(M,n)]:[];const h=i;let r=Q(n,t);const l=n.substring(0,r);n=n.substring(r),t=t.substring(r),r=K(n,t);const u=n.substring(n.length-r);n=n.substring(0,n.length-r),t=t.substring(0,t.length-r);const a=ze(n,t,o,h,c);return l&&a.unshift(k(M,l)),u&&a.push(k(M,u)),V(a),a}function ze(n,t,e,i,s){let o;if(!n)return[k($,t)];if(!t)return[k(L,n)];const c=n.length>t.length?n:t,h=n.length>t.length?t:n,r=c.indexOf(h);if(r!==-1)return o=[k($,c.substring(0,r)),k(M,h),k($,c.substring(r+h.length))],n.length>t.length&&(o[0][0]=o[2][0]=L),o;if(h.length===1)return[k(L,n),k($,t)];const l=Fe(n,t,e);if(l){const u=l[0],a=l[1],f=l[2],d=l[3],p=l[4],b=R(u,f,e,i,s),C=R(a,d,e,i,s);return b.concat([k(M,p)],C)}return i&&n.length>100&&t.length>100?Pe(n,t,e,s):Ne(n,t,e,s)}function Pe(n,t,e,i){const s=Ue(n,t);n=s.chars1,t=s.chars2;const o=s.lineArray,c=R(n,t,e,!1,i);Ie(c,o),qe(c),c.push(k(M,""));let h=0,r=0,l=0,u="",a="";for(;h<c.length;){switch(c[h][0]){case $:l++,a+=c[h][1];break;case L:r++,u+=c[h][1];break;case M:if(r>=1&&l>=1){c.splice(h-r-l,r+l),h=h-r-l;const f=R(u,a,e,!1,i);for(let d=f.length-1;d>=0;d--)c.splice(h,0,f[d]);h=h+f.length}l=0,r=0,u="",a="";break}h++}return c.pop(),c}function Ne(n,t,e,i){const s=n.length,o=t.length,c=Math.ceil((s+o)/2),h=c,r=2*c,l=new Array(r),u=new Array(r);for(let S=0;S<r;S++)l[S]=-1,u[S]=-1;l[h+1]=0,u[h+1]=0;const a=s-o,f=a%2!==0;let d=0,p=0,b=0,C=0;for(let S=0;S<c&&!(new Date().getTime()>i);S++){for(let _=-S+d;_<=S-p;_+=2){const w=h+_;let y;_===-S||_!==S&&l[w-1]<l[w+1]?y=l[w+1]:y=l[w-1]+1;let A=y-_;for(;y<s&&A<o&&n.charAt(y)===t.charAt(A);)y++,A++;if(l[w]=y,y>s)p+=2;else if(A>o)d+=2;else if(f){const g=h+a-_;if(g>=0&&g<r&&u[g]!==-1){const v=s-u[g];if(y>=v)return se(n,t,e,y,A,i)}}}for(let _=-S+b;_<=S-C;_+=2){const w=h+_;let y;_===-S||_!==S&&u[w-1]<u[w+1]?y=u[w+1]:y=u[w-1]+1;let A=y-_;for(;y<s&&A<o&&n.charAt(s-y-1)===t.charAt(o-A-1);)y++,A++;if(u[w]=y,y>s)C+=2;else if(A>o)b+=2;else if(!f){const g=h+a-_;if(g>=0&&g<r&&l[g]!==-1){const v=l[g],m=h+v-g;if(y=s-y,v>=y)return se(n,t,e,v,m,i)}}}}return[k(L,n),k($,t)]}function se(n,t,e,i,s,o){const c=n.substring(0,i),h=t.substring(0,s),r=n.substring(i),l=t.substring(s),u=R(c,h,e,!1,o),a=R(r,l,e,!1,o);return u.concat(a)}function Ue(n,t){const e=[],i={};let s=4e4;e[0]="";function o(r){let l="",u=0,a=-1,f=e.length;for(;a<r.length-1;){a=r.indexOf(`
`,u),a===-1&&(a=r.length-1);let d=r.substring(u,a+1);(i.hasOwnProperty?Object.prototype.hasOwnProperty.call(i,d):i[d]!==void 0)?l+=String.fromCharCode(i[d]):(f===s&&(d=r.substring(u),a=r.length),l+=String.fromCharCode(f),i[d]=f,e[f++]=d),u=a+1}return l}const c=o(n);s=65535;const h=o(t);return{chars1:c,chars2:h,lineArray:e}}function Ie(n,t){for(let e=0;e<n.length;e++){const i=n[e][1],s=[];for(let o=0;o<i.length;o++)s[o]=t[i.charCodeAt(o)];n[e][1]=s.join("")}}function Q(n,t){if(!n||!t||n.charAt(0)!==t.charAt(0))return 0;let e=0,i=Math.min(n.length,t.length),s=i,o=0;for(;e<s;)n.substring(o,s)===t.substring(o,s)?(e=s,o=e):i=s,s=Math.floor((i-e)/2+e);return s}function K(n,t){if(!n||!t||n.charAt(n.length-1)!==t.charAt(t.length-1))return 0;let e=0,i=Math.min(n.length,t.length),s=i,o=0;for(;e<s;)n.substring(n.length-s,n.length-o)===t.substring(t.length-s,t.length-o)?(e=s,o=e):i=s,s=Math.floor((i-e)/2+e);return s}function ie(n,t){const e=n.length,i=t.length;if(e===0||i===0)return 0;e>i?n=n.substring(e-i):e<i&&(t=t.substring(0,e));const s=Math.min(e,i);if(n===t)return s;let o=0,c=1;for(;;){const h=n.substring(s-c),r=t.indexOf(h);if(r===-1)return o;c+=r,(r===0||n.substring(s-c)===t.substring(0,c))&&(o=c,c++)}}function Fe(n,t,e){if(e.diffTimeout<=0)return null;const i=n.length>t.length?n:t,s=n.length>t.length?t:n;if(i.length<4||s.length*2<i.length)return null;function o(p,b,C){const S=p.substring(C,C+Math.floor(p.length/4));let _=-1,w="",y,A,g,v;for(;(_=b.indexOf(S,_+1))!==-1;){const m=Q(p.substring(C),b.substring(_)),B=K(p.substring(0,C),b.substring(0,_));w.length<B+m&&(w=b.substring(_-B,_)+b.substring(_,_+m),y=p.substring(0,C-B),A=p.substring(C+m),g=b.substring(0,_-B),v=b.substring(_+m))}return w.length*2>=p.length?[y,A,g,v,w]:null}const c=o(i,s,Math.ceil(i.length/4)),h=o(i,s,Math.ceil(i.length/2));let r;if(!c&&!h)return null;h?c?r=c[4].length>h[4].length?c:h:r=h:r=c;let l,u,a,f;n.length>t.length?(l=r[0],u=r[1],a=r[2],f=r[3]):(a=r[0],f=r[1],l=r[2],u=r[3]);const d=r[4];return[l,u,a,f,d]}function qe(n){let t=!1;const e=[];let i=0,s=null,o=0,c=0,h=0,r=0,l=0;for(;o<n.length;)n[o][0]===M?(e[i++]=o,c=r,h=l,r=0,l=0,s=n[o][1]):(n[o][0]===$?r+=n[o][1].length:l+=n[o][1].length,s&&s.length<=Math.max(c,h)&&s.length<=Math.max(r,l)&&(n.splice(e[i-1],0,k(L,s)),n[e[i-1]+1][0]=$,i--,i--,o=i>0?e[i-1]:-1,c=0,h=0,r=0,l=0,s=null,t=!0)),o++;for(t&&V(n),He(n),o=1;o<n.length;){if(n[o-1][0]===L&&n[o][0]===$){const u=n[o-1][1],a=n[o][1],f=ie(u,a),d=ie(a,u);f>=d?(f>=u.length/2||f>=a.length/2)&&(n.splice(o,0,k(M,a.substring(0,f))),n[o-1][1]=u.substring(0,u.length-f),n[o+1][1]=a.substring(f),o++):(d>=u.length/2||d>=a.length/2)&&(n.splice(o,0,k(M,u.substring(0,d))),n[o-1][0]=$,n[o-1][1]=a.substring(0,a.length-d),n[o+1][0]=L,n[o+1][1]=u.substring(d),o++),o++}o++}}const oe=/[^a-z0-9]/i,re=/\s/,le=/[\r\n]/,Ke=/\n\r?\n$/,xe=/^\r?\n\r?\n/;function He(n){function t(i,s){if(!i||!s)return 6;const o=i.charAt(i.length-1),c=s.charAt(0),h=o.match(oe),r=c.match(oe),l=h&&o.match(re),u=r&&c.match(re),a=l&&o.match(le),f=u&&c.match(le),d=a&&i.match(Ke),p=f&&s.match(xe);return d||p?5:a||f?4:h&&!l&&u?3:l||u?2:h||r?1:0}let e=1;for(;e<n.length-1;){if(n[e-1][0]===M&&n[e+1][0]===M){let i=n[e-1][1],s=n[e][1],o=n[e+1][1];const c=K(i,s);if(c){const a=s.substring(s.length-c);i=i.substring(0,i.length-c),s=a+s.substring(0,s.length-c),o=a+o}let h=i,r=s,l=o,u=t(i,s)+t(s,o);for(;s.charAt(0)===o.charAt(0);){i+=s.charAt(0),s=s.substring(1)+o.charAt(0),o=o.substring(1);const a=t(i,s)+t(s,o);a>=u&&(u=a,h=i,r=s,l=o)}n[e-1][1]!==h&&(h?n[e-1][1]=h:(n.splice(e-1,1),e--),n[e][1]=r,l?n[e+1][1]=l:(n.splice(e+1,1),e--))}e++}}function V(n){n.push(k(M,""));let t=0,e=0,i=0,s="",o="",c;for(;t<n.length;)switch(n[t][0]){case $:i++,o+=n[t][1],t++;break;case L:e++,s+=n[t][1],t++;break;case M:e+i>1?(e!==0&&i!==0&&(c=Q(o,s),c!==0&&(t-e-i>0&&n[t-e-i-1][0]===M?n[t-e-i-1][1]+=o.substring(0,c):(n.splice(0,0,k(M,o.substring(0,c))),t++),o=o.substring(c),s=s.substring(c)),c=K(o,s),c!==0&&(n[t][1]=o.substring(o.length-c)+n[t][1],o=o.substring(0,o.length-c),s=s.substring(0,s.length-c))),t-=e+i,n.splice(t,e+i),s.length&&(n.splice(t,0,k(L,s)),t++),o.length&&(n.splice(t,0,k($,o)),t++),t++):t!==0&&n[t-1][0]===M?(n[t-1][1]+=n[t][1],n.splice(t,1)):t++,i=0,e=0,s="",o="";break}n[n.length-1][1]===""&&n.pop();let h=!1;for(t=1;t<n.length-1;)n[t-1][0]===M&&n[t+1][0]===M&&(n[t][1].substring(n[t][1].length-n[t-1][1].length)===n[t-1][1]?(n[t][1]=n[t-1][1]+n[t][1].substring(0,n[t][1].length-n[t-1][1].length),n[t+1][1]=n[t-1][1]+n[t+1][1],n.splice(t-1,1),h=!0):n[t][1].substring(0,n[t+1][1].length)===n[t+1][1]&&(n[t-1][1]+=n[t+1][1],n[t][1]=n[t][1].substring(n[t+1][1].length)+n[t+1][1],n.splice(t+1,1),h=!0)),t++;h&&V(n)}function Ze(n){return typeof n=="string"?`'${n}'`:new Je().serialize(n)}const Je=(function(){class n{#e=new Map;compare(e,i){const s=typeof e,o=typeof i;return s==="string"&&o==="string"?e.localeCompare(i):s==="number"&&o==="number"?e-i:String.prototype.localeCompare.call(this.serialize(e,!0),this.serialize(i,!0))}serialize(e,i){if(e===null)return"null";switch(typeof e){case"string":return i?e:`'${e}'`;case"bigint":return`${e}n`;case"object":return this.$object(e);case"function":return this.$function(e)}return String(e)}serializeObject(e){const i=Object.prototype.toString.call(e);if(i!=="[object Object]")return this.serializeBuiltInType(i.length<10?`unknown:${i}`:i.slice(8,-1),e);const s=e.constructor,o=s===Object||s===void 0?"":s.name;if(o!==""&&globalThis[o]===s)return this.serializeBuiltInType(o,e);if(typeof e.toJSON=="function"){const c=e.toJSON();return o+(c!==null&&typeof c=="object"?this.$object(c):`(${this.serialize(c)})`)}return this.serializeObjectEntries(o,Object.entries(e))}serializeBuiltInType(e,i){const s=this["$"+e];if(s)return s.call(this,i);if(typeof i?.entries=="function")return this.serializeObjectEntries(e,i.entries());throw new Error(`Cannot serialize ${e}`)}serializeObjectEntries(e,i){const s=Array.from(i).sort((c,h)=>this.compare(c[0],h[0]));let o=`${e}{`;for(let c=0;c<s.length;c++){const[h,r]=s[c];o+=`${this.serialize(h,!0)}:${this.serialize(r)}`,c<s.length-1&&(o+=",")}return o+"}"}$object(e){let i=this.#e.get(e);return i===void 0&&(this.#e.set(e,`#${this.#e.size}`),i=this.serializeObject(e),this.#e.set(e,i)),i}$function(e){const i=Function.prototype.toString.call(e);return i.slice(-15)==="[native code] }"?`${e.name||""}()[native]`:`${e.name}(${e.length})${i.replace(/\s*\n\s*/g,"")}`}$Array(e){let i="[";for(let s=0;s<e.length;s++)i+=this.serialize(e[s]),s<e.length-1&&(i+=",");return i+"]"}$Date(e){try{return`Date(${e.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(e){return`ArrayBuffer[${new Uint8Array(e).join(",")}]`}$Set(e){return`Set${this.$Array(Array.from(e).sort((i,s)=>this.compare(i,s)))}`}$Map(e){return this.serializeObjectEntries("Map",e.entries())}}for(const t of["Error","RegExp","URL"])n.prototype["$"+t]=function(e){return`${t}(${e})`};for(const t of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])n.prototype["$"+t]=function(e){return`${t}[${e.join(",")}]`};for(const t of["BigInt64Array","BigUint64Array"])n.prototype["$"+t]=function(e){return`${t}[${e.join("n,")}${e.length>0?"n":""}]`};return n})(),Xe=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Ye=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",O=[];class Ve{_data=new z;_hash=new z([...Xe]);_nDataBytes=0;_minBufferSize=0;finalize(t){t&&this._append(t);const e=this._nDataBytes*8,i=this._data.sigBytes*8;return this._data.words[i>>>5]|=128<<24-i%32,this._data.words[(i+64>>>9<<4)+14]=Math.floor(e/4294967296),this._data.words[(i+64>>>9<<4)+15]=e,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}_doProcessBlock(t,e){const i=this._hash.words;let s=i[0],o=i[1],c=i[2],h=i[3],r=i[4],l=i[5],u=i[6],a=i[7];for(let f=0;f<64;f++){if(f<16)O[f]=t[e+f]|0;else{const w=O[f-15],y=(w<<25|w>>>7)^(w<<14|w>>>18)^w>>>3,A=O[f-2],g=(A<<15|A>>>17)^(A<<13|A>>>19)^A>>>10;O[f]=y+O[f-7]+g+O[f-16]}const d=r&l^~r&u,p=s&o^s&c^o&c,b=(s<<30|s>>>2)^(s<<19|s>>>13)^(s<<10|s>>>22),C=(r<<26|r>>>6)^(r<<21|r>>>11)^(r<<7|r>>>25),S=a+C+d+Ye[f]+O[f],_=b+p;a=u,u=l,l=r,r=h+S|0,h=c,c=o,o=s,s=S+_|0}i[0]=i[0]+s|0,i[1]=i[1]+o|0,i[2]=i[2]+c|0,i[3]=i[3]+h|0,i[4]=i[4]+r|0,i[5]=i[5]+l|0,i[6]=i[6]+u|0,i[7]=i[7]+a|0}_append(t){typeof t=="string"&&(t=z.fromUtf8(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes}_process(t){let e,i=this._data.sigBytes/64;t?i=Math.ceil(i):i=Math.max((i|0)-this._minBufferSize,0);const s=i*16,o=Math.min(s*4,this._data.sigBytes);if(s){for(let c=0;c<s;c+=16)this._doProcessBlock(this._data.words,c);e=this._data.words.splice(0,s),this._data.sigBytes-=o}return new z(e,o)}}class z{words;sigBytes;constructor(t,e){t=this.words=t||[],this.sigBytes=e===void 0?t.length*4:e}static fromUtf8(t){const e=unescape(encodeURIComponent(t)),i=e.length,s=[];for(let o=0;o<i;o++)s[o>>>2]|=(e.charCodeAt(o)&255)<<24-o%4*8;return new z(s,i)}toBase64(){const t=[];for(let e=0;e<this.sigBytes;e+=3){const i=this.words[e>>>2]>>>24-e%4*8&255,s=this.words[e+1>>>2]>>>24-(e+1)%4*8&255,o=this.words[e+2>>>2]>>>24-(e+2)%4*8&255,c=i<<16|s<<8|o;for(let h=0;h<4&&e*8+h*6<this.sigBytes*8;h++)t.push(Qe.charAt(c>>>6*(3-h)&63))}return t.join("")}concat(t){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let e=0;e<t.sigBytes;e++){const i=t.words[e>>>2]>>>24-e%4*8&255;this.words[this.sigBytes+e>>>2]|=i<<24-(this.sigBytes+e)%4*8}else for(let e=0;e<t.sigBytes;e+=4)this.words[this.sigBytes+e>>>2]=t.words[e>>>2];this.sigBytes+=t.sigBytes}}function We(n){return new Ve().finalize(n).toBase64()}function Ge(n){return We(Ze(n))}function et(n,t,e="",i=!1){const s=Ge(n+e);let o=0,c=0;const h=Math.ceil(Math.log10(t.length)),r=tt(t).flatMap((l,u)=>{c=l[0]?.offset||o;const a=l[l.length-1];a?o=a.offset+a.content.length:o+=1;const f=[...l,{content:`
`,offset:o}];return i&&f.unshift({key:`${s}-ln-${u+1}`,content:`${String(u+1).padStart(h," ")}  `,offset:c,htmlClass:"shiki-magic-move-line-number"}),f}).map((l,u)=>{const a=l;return a.key||=`${s}-${u}`,a});return{code:n,hash:s,tokens:r,lineNumbers:i}}function tt(n){return n.map(t=>t.flatMap(e=>{if(e.content.match(/^\s+$/))return e;const i=e.content.match(/^(\s*)(.*?)(\s*)$/);if(!i)return e;const[,s,o,c]=i;if(!s&&!c)return e;const h=[{...e,offset:e.offset+s.length,content:o}];return s&&h.unshift({content:s,offset:e.offset}),c&&h.push({content:c,offset:e.offset+s.length+o.length}),h}))}function nt(n,t){let e=0;const i=n.key;let s=0;const o=[];function c(){return s===0?(s++,i):`${i}-${s++}`}for(const h of t)h>e&&o.push({...n,content:n.content.slice(e,h),offset:n.offset+e,key:c()}),e=h;return e<n.content.length&&o.push({...n,content:n.content.slice(e),offset:n.offset+e,key:c()}),o}function ce(n,t){const e=Array.from(t instanceof Set?t:new Set(t)).sort((i,s)=>i-s);return e.length?n.flatMap(i=>{const s=e.filter(o=>i.offset<o&&o<i.offset+i.content.length).map(o=>o-i.offset).sort((o,c)=>o-c);return s.length?nt(i,s):i}):n}function st(n,t,e={}){const{splitTokens:i=!1,enhanceMatching:s=!0}=e,o=it(n.code,t.code,e),c=i?ce(n.tokens,o.flatMap(l=>l.from)):n.tokens,h=i?ce(t.tokens,o.flatMap(l=>l.to)):t.tokens,r=new Set;if(o.forEach(l=>{const u=c.filter(p=>p.offset>=l.from[0]&&p.offset+p.content.length<=l.from[1]),a=h.filter(p=>p.offset>=l.to[0]&&p.offset+p.content.length<=l.to[1]);let f=0,d=0;for(;f<u.length&&d<a.length&&!(!u[f]||!a[d]);)u[f].content===a[d].content?(a[d].key=u[f].key,r.add(u[f].key),f++,d++):u[f+1]?.content===a[d].content?f++:(u[f].content===a[d+1]?.content||f++,d++)}),s)for(const l of c){if(r.has(l.key)||l.content.length<3||!l.content.match(/^[\w-]+$/))continue;const u=h.find(a=>a.content===l.content&&!r.has(a.key));u&&(u.key=l.key,r.add(l.key))}return{from:c.length===n.tokens.length?n:{...n,tokens:c},to:h.length===t.tokens.length?t:{...t,tokens:h}}}function it(n,t,e={}){let i=R(n,t);i=e.diffCleanup?.(i)||i;let s="",o="";const c=[];for(const[h,r]of i)h===0?(c.push({from:[s.length,s.length+r.length],to:[o.length,o.length+r.length],content:r}),s+=r,o+=r):h===-1?s+=r:h===1&&(o+=r);if(s!==n||o!==t)throw new Error("Content mismatch");return c}const E="shiki-magic-move",H=`${E}-leave-from`,ot=`${E}-leave-to`,ae=`${E}-leave-active`,Z=`${E}-enter-from`,J=`${E}-enter-to`,he=`${E}-enter-active`,ue=`${E}-move`,fe=`${E}-container-resize`,pe=`${E}-container-restyle`,rt={globalScale:1,duration:500,delayMove:.3,delayLeave:.1,delayEnter:.7,delayContainer:.4,stagger:0,easing:"ease",animateContainer:!0,containerStyle:!0};class lt{mapDom=new Map;previousPromises=[];isFirstRender=!0;constructor(t,e={}){this.options={...rt,...e},typeof t=="string"?this.container=document.querySelector(t):this.container=t,this.anchor=document.createElement("span"),this.anchor.style.position="absolute",this.anchor.style.top="0",this.anchor.style.left="0",this.anchor.style.height="1px",this.anchor.style.width="1px",this.container.prepend(this.anchor)}applyElementContent(t,e){e.content!==`
`&&(t.textContent=e.content,t.classList.add(`${E}-item`))}applyElementStyle(t,e){if(e.htmlStyle)if(typeof e.htmlStyle=="string")t.setAttribute("style",e.htmlStyle);else for(const[i,s]of Object.entries(e.htmlStyle))t.style.setProperty(i,s);e.htmlClass&&(t.className=[`${E}-item`,e.htmlClass].join(" ")),e.color&&(t.style.color=e.color),e.bgColor&&(t.style.backgroundColor=e.bgColor)}applyElement(t,e){this.applyElementContent(t,e),this.applyElementStyle(t,e)}applyNodeStyle(t,e){if(e.bg&&(t.style.backgroundColor=e.bg),e.fg&&(t.style.color=e.fg),e.rootStyle){const i=e.rootStyle.split(";");for(const s of i){const[o,c]=s.split(":");o&&c&&t.style.setProperty(o.trim(),c.trim())}}}applyContainerStyle(t){this.options.containerStyle&&this.applyNodeStyle(this.container,t)}registerTransitionEnd(t,e){return()=>{let i=!1,s=()=>{};const o=Promise.race([Promise.allSettled(t.getAnimations().map(c=>c.finished)).then(()=>e()),new Promise(c=>{s=()=>{i||(i=!0,e(),c())}})]);return o.resolve=s,o}}setCssVariables(){this.container.style.setProperty("--smm-duration",`${this.options.duration}ms`),this.container.style.setProperty("--smm-delay-move",`${this.options.delayMove}`),this.container.style.setProperty("--smm-delay-leave",`${this.options.delayLeave}`),this.container.style.setProperty("--smm-delay-enter",`${this.options.delayEnter}`),this.container.style.setProperty("--smm-delay-container",`${this.options.delayContainer}`),this.container.style.setProperty("--smm-easing",this.options.easing),this.container.style.setProperty("--smm-stagger","0")}replace(t){const e=new Map,i=t.tokens.map(s=>{if(this.mapDom.has(s.key)){const o=this.mapDom.get(s.key);return this.applyElement(o,s),e.set(s.key,o),this.mapDom.delete(s.key),o}else{const o=document.createElement(s.content===`
`?"br":"span");return this.applyElement(o,s),e.set(s.key,o),o}});this.container.replaceChildren(this.anchor,...i),this.applyContainerStyle(t),this.mapDom=e}render(t){this.setCssVariables();const e=new Map,i=[],s=[],o=[],c=[];this.previousPromises.forEach(p=>p.resolve()),this.previousPromises=[];const h=[],{globalScale:r}=this.options,l=new Map;let u=this.anchor.getBoundingClientRect();const a=this.container.getBoundingClientRect();for(const p of this.mapDom.values()){const b=p.getBoundingClientRect();l.set(p,{x:b.x-u.x,y:b.y-u.y})}const f=t.tokens.map(p=>{if(this.mapDom.has(p.key)){const b=this.mapDom.get(p.key);return this.applyElementContent(b,p),h.push(()=>{this.applyElementStyle(b,p)}),i.push(b),e.set(p.key,b),this.mapDom.delete(p.key),b}else{const b=document.createElement(p.content===`
`?"br":"span");return this.applyElement(b,p),s.push(b),e.set(p.key,b),b}});for(const[p,b]of this.mapDom)b.tagName!=="BR"&&o.push(b);for(const p of o)p.style.position="absolute";if(this.container.replaceChildren(this.anchor,...f,...o),this.mapDom=e,o.forEach((p,b)=>{p.style.position="absolute";const C=l.get(p);p.style.top=`${C.y/r}px`,p.style.left=`${C.x/r}px`,this.options.stagger?p.style.setProperty("--smm-stagger",`${b*this.options.stagger}ms`):p.style.removeProperty("--smm-stagger"),p.classList.add(H),p.classList.add(ae),h.unshift(()=>{p.classList.remove(H),p.classList.add(ot)}),c.push(this.registerTransitionEnd(p,()=>{p.classList.remove(H),p.classList.remove(ae),p.classList.remove(J),p.remove()}))}),this.isFirstRender||s.forEach((p,b)=>{p.classList.add(Z),p.classList.add(he),this.options.stagger?p.style.setProperty("--smm-stagger",`${b*this.options.stagger}ms`):p.style.removeProperty("--smm-stagger"),h.push(()=>{p.classList.remove(Z),p.classList.add(J)}),c.push(this.registerTransitionEnd(p,()=>{p.classList.remove(Z),p.classList.remove(he),p.classList.remove(J)}))}),u=this.anchor.getBoundingClientRect(),i.forEach((p,b)=>{const C=p.getBoundingClientRect(),S={x:C.x-u.x,y:C.y-u.y},_=l.get(p);p.style.transitionDuration=p.style.transitionDelay="0ms";const w=(_.x-S.x)/r,y=(_.y-S.y)/r;p.style.transform=`translate(${w}px, ${y}px)`,this.options.stagger?p.style.setProperty("--smm-stagger",`${b*this.options.stagger}ms`):p.style.removeProperty("--smm-stagger"),h.unshift(()=>{p.classList.add(ue),p.style.transform=p.style.transitionDuration=p.style.transitionDelay=""}),c.push(this.registerTransitionEnd(p,()=>{p.classList.remove(ue)}))}),this.options.animateContainer&&!this.isFirstRender){const p=this.container.getBoundingClientRect();(p.width!==a.width||p.height!==a.height)&&(this.container.style.transitionDuration=this.container.style.transitionDelay="0ms",this.container.style.height=`${a.height/r}px`,this.container.style.width=`${a.width/r}px`,h.unshift(()=>{this.container.classList.add(fe),this.container.style.transitionDuration=this.container.style.transitionDelay="",this.container.style.height=`${p.height/r}px`,this.container.style.width=`${p.width/r}px`}),c.push(this.registerTransitionEnd(this.container,()=>{this.container.classList.remove(fe),this.container.style.height=this.container.style.width=""})))}this.options.containerStyle&&(this.isFirstRender?this.applyContainerStyle(t):(h.push(()=>{this.container.classList.add(pe),this.applyContainerStyle(t)}),c.push(this.registerTransitionEnd(this.container,()=>{this.container.classList.remove(pe)})))),ct(),h.forEach(p=>p());const d=c.map(p=>p());return this.isFirstRender=!1,this.previousPromises=d,Promise.all(d).then()}}function ct(){return document.body.offsetHeight}const at=q({name:"ShikiMagicMoveRenderer",props:{animate:{type:Boolean,default:!0},tokens:{type:Object,required:!0},previous:{type:Object,required:!1},options:{type:Object}},emits:["end","start"],setup(n,{emit:t}){const e=U();let i=!1;return ge(()=>{e.value.innerHTML="",i=!0;const s=new lt(e.value);ye(()=>n.tokens,async o=>{if(Object.assign(s.options,n.options),n.animate){n.previous&&s.replace(n.previous),await F();const c=s.render(o);await F(),t("start"),await c,t("end")}else s.replace(o)},{immediate:!0})}),()=>N("pre",{ref:e,class:"shiki-magic-move-container"},i?void 0:be(n.tokens.tokens,s=>s.content===`
`?N("br",{key:s.key}):N("span",{style:[{color:s.color},s.htmlStyle],class:["shiki-magic-move-item",s.htmlClass],key:s.key},s.content)))}}),ht=q({name:"ShikiMagicMovePrecompiled",props:{steps:{type:Array,required:!0},step:{type:Number,default:0},animate:{type:Boolean,default:!0},options:{type:Object,default:()=>({})}},emits:["start","end"],setup(n,{emit:t}){let i=et("",[]);const s=X(()=>{const o=st(i,n.steps[Math.min(n.step,n.steps.length-1)],n.options);return i=o.to,o});return()=>N(at,{tokens:s.value.to,previous:s.value.from,options:n.options,animate:n.animate,onStart:()=>t("start"),onEnd:()=>t("end")})}}),ut=q({__name:"TitleIcon",props:{title:{}},setup(n){const t={pnpm:"i-vscode-icons:file-type-light-pnpm",npm:"i-vscode-icons:file-type-npm",yarn:"i-vscode-icons:file-type-yarn",bun:"i-vscode-icons:file-type-bun",deno:"i-vscode-icons:file-type-deno",vue:"i-vscode-icons:file-type-vue",svelte:"i-vscode-icons:file-type-svelte",angular:"i-vscode-icons:file-type-angular",react:"i-vscode-icons:file-type-reactjs",next:"i-vscode-icons:file-type-light-next",nuxt:"i-vscode-icons:file-type-nuxt",solid:"logos:solidjs-icon",astro:"i-vscode-icons:file-type-light-astro",rollup:"i-vscode-icons:file-type-rollup",webpack:"i-vscode-icons:file-type-webpack",vite:"i-vscode-icons:file-type-vite",esbuild:"i-vscode-icons:file-type-esbuild","package.json":"i-vscode-icons:file-type-node","tsconfig.json":"i-vscode-icons:file-type-tsconfig",".npmrc":"i-vscode-icons:file-type-npm",".editorconfig":"i-vscode-icons:file-type-editorconfig",".eslintrc":"i-vscode-icons:file-type-eslint",".eslintignore":"i-vscode-icons:file-type-eslint","eslint.config":"i-vscode-icons:file-type-eslint",".gitignore":"i-vscode-icons:file-type-git",".gitattributes":"i-vscode-icons:file-type-git",".env":"i-vscode-icons:file-type-dotenv",".env.example":"i-vscode-icons:file-type-dotenv",".vscode":"i-vscode-icons:file-type-vscode","tailwind.config":"vscode-icons:file-type-tailwind","uno.config":"i-vscode-icons:file-type-unocss","unocss.config":"i-vscode-icons:file-type-unocss",".oxlintrc":"i-vscode-icons:file-type-oxlint","vue.config":"i-vscode-icons:file-type-vueconfig",".mts":"i-vscode-icons:file-type-typescript",".cts":"i-vscode-icons:file-type-typescript",".ts":"i-vscode-icons:file-type-typescript",".tsx":"i-vscode-icons:file-type-typescript",".mjs":"i-vscode-icons:file-type-js",".cjs":"i-vscode-icons:file-type-js",".json":"i-vscode-icons:file-type-json",".js":"i-vscode-icons:file-type-js",".jsx":"i-vscode-icons:file-type-js",".md":"i-vscode-icons:file-type-markdown",".py":"i-vscode-icons:file-type-python",".ico":"i-vscode-icons:file-type-favicon",".html":"i-vscode-icons:file-type-html",".css":"i-vscode-icons:file-type-css",".scss":"i-vscode-icons:file-type-scss",".yml":"i-vscode-icons:file-type-light-yaml",".yaml":"i-vscode-icons:file-type-light-yaml",".php":"i-vscode-icons:file-type-php",".svg":"i-vscode-icons:file-type-svg"};function e(i){const s=i.match(/~([^~]+)~/g);if(s&&s.length>0)return s[0].slice(1,-1);const o=Object.keys(t).sort((c,h)=>h.length-c.length);for(const c of o)if(i.toLowerCase().includes(c.toLowerCase()))return t[c];return""}return(i,s)=>e(n.title)?(D(),I("div",{key:0,class:me(`${e(n.title)} w-3.5 h-3.5 relative`)},null,2)):Y("v-if",!0)}}),ft={key:0,class:"slidev-code-block-title"},pt={class:"leading-1em"},gt=["title"],_t=q({__name:"ShikiMagicMove",props:{at:{type:[String,Number],default:"+1"},stepsLz:{type:String,required:!0},stepRanges:{type:Array,required:!0},lines:{type:Boolean,default:P.lineNumbers},title:{type:String,default:""},duration:{type:Number,default:P.magicMoveDuration}},setup(n){const t=n,e=JSON.parse(Oe.decompressFromBase64(t.stepsLz)),{$clicksContext:i,$scale:s,$zoom:o}=Be(),{isPrintMode:c}=Ce(),h=ke(),r=U(0),l=U(!0),u=U(),a=X(()=>{if(!P.codeCopy)return!1;const C=P.magicMoveCopy;return C?C===!0||C==="always"?!0:C==="final"?r.value===e.length-1:!1:!1}),{copied:f,copy:d}=_e();function p(){const C=e[r.value];!C||!C.code||d(C.code.trim())}const b=X(()=>t.stepRanges.map(C=>C.length?C:["all"]));return we(()=>{i?.unregister(h)}),ge(()=>{if(!i)return;if(b.value.length!==e.length)throw new Error("[slidev] The length of stepRanges does not match the length of steps, this is an internal error.");const C=b.value.map(w=>w.length).reduce((w,y)=>w+y,0),S=i.calculateSince(t.at,C-1);i.register(h,S);let _=()=>{};ye(()=>i.current,()=>{const w=S?i.current-S.start:Me;let y=e.length-1,A=0,g="all";for(let m=0;m<b.value.length;m++){const B=b.value[m];if(w<A+B.length-1){y=m,g=B[w-A+1];break}A+=B.length||1}_();let v=!1;_=()=>{v=!0},F(async()=>{if(v)return;r.value=y,l.value&&F(()=>{l.value=!1}),await $e(0);const m=u.value?.querySelector(".shiki");if(!m)return;const W=Array.from(m.children).slice(1).filter(T=>!T.className.includes("shiki-magic-move-leave")).reduce((T,G)=>(G.tagName==="BR"?T.push([]):T[T.length-1].push(G),T),[[]]);Ee(g,W.length,1,T=>W[T])})},{immediate:!0})}),(C,S)=>{const _=de,w=ve;return D(),I("div",{ref_key:"container",ref:u,class:"slidev-code-wrapper slidev-code-magic-move relative group"},[n.title?(D(),I("div",ft,[ee(ut,{title:n.title},null,8,["title"]),Se("div",pt,Ae(n.title.replace(/~([^~]+)~/g,"").trim()),1)])):Y("v-if",!0),ee(j(ht),{class:"slidev-code relative shiki overflow-visible",steps:j(e),step:r.value,animate:!j(c),options:{globalScale:j(s)*j(o),duration:l.value?0:C.$props.duration,stagger:1}},null,8,["steps","step","animate","options"]),a.value?(D(),I("button",{key:1,class:me(["slidev-code-copy absolute right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",n.title?"top-10":"top-0"]),title:j(f)?"Copied":"Copy",onClick:S[0]||(S[0]=y=>p())},[j(f)?(D(),te(_,{key:0,class:"p-2 w-8 h-8"})):(D(),te(w,{key:1,class:"p-2 w-8 h-8"}))],10,gt)):Y("v-if",!0)],512)}}});export{_t as _};
